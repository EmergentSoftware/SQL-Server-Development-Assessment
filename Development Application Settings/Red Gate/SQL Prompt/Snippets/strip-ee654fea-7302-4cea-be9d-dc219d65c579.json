{
  "id": "ee654fea-7302-4cea-be9d-dc219d65c579",
  "prefix": "strip",
  "description": "ES: This code will strip out unwanted characters and only keep the characters in the @WantedCharacters variable.",
  "body": "DECLARE @WantedCharacters nvarchar(100) = N' abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'; /* Without the space it errors. It is replaced inline. */\r\n\r\nSELECT\r\n    OriginalString    = v.OriginalString\r\n   ,TransformedString = \r\n                    REPLACE(\r\n                            REPLACE(\r\n                                TRANSLATE(\r\n                                    v.OriginalString, \r\n                                    REPLACE(\r\n                                        TRANSLATE(\r\n                                             v.OriginalString \r\n                                            ,@WantedCharacters, \r\n                                            REPLICATE('a', LEN(@WantedCharacters))\r\n                                         )\r\n                                        ,'a'\r\n                                        ,''\r\n                                    ), \r\n                                    REPLICATE(\r\n                                        '0'\r\n                                        ,LEN(\r\n                                            REPLACE(\r\n                                                TRANSLATE(\r\n                                                    v.OriginalString\r\n                                                    ,@WantedCharacters\r\n                                                    ,REPLICATE('a', LEN(@WantedCharacters))\r\n                                                )\r\n                                                ,'a'\r\n                                                ,''\r\n                                            )\r\n                                        )\r\n                                    )\r\n                                )\r\n                              ,'0'\r\n                              ,''\r\n                            )\r\n                    ,' ', '')\r\nFROM (\r\n    VALUES\r\n        (N'Add sample strings in this values list.')\r\n       ,(N'abc1234def5678ghi90jkl#@$&')\r\n       ,(N'1234567890$@çˆ±')\r\n       ,(N'a line')\r\n       ,(NULL)\r\n       ,(N'JAHDBESBN%*#*@*($E*sd55bn')\r\n       ,(N'Some text, other text.  ''.,!?/<>\"[]{}|`~@#$%^&*()-+=/\\:;\r\n\r\nAfter a CR/LF!' + +CHAR(13)+CHAR(10)+CHAR(9) + N'After CR/LF & tab character.')\r\n) AS v (OriginalString);"
}